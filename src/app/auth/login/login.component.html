<div class="flex flex-col min-h-screen">
  <app-navbar></app-navbar>

  @if(cargando()){
  <span class="loading loading-ring loading-xl"></span>
  }@else {

  <div class="flex flex-1 justify-center items-center flex-col">
    <img
      src="OnlyFace.png"
      class="w-42 sm:w-64 md:w-42 rounded-lg -mb-5"
      alt="Robot"
    />
    <form [formGroup]="form" autocomplete="off">
      <fieldset
        class="fieldset bg-base-200 border-base-300 rounded-box w-xs border p-4 shadow-2xl animate__animated animate__fadeInLeft"
      >
        <div>
          <label class="label">Usuario</label>
          <input
            type="text"
            class="input"
            placeholder="Usuario"
            formControlName="username"
          />
          @if(form.get('username')?.hasError('required') &&
          form.get('username')?.touched) {
          <p class="text-error">El usuario es requerido</p>
          }
        </div>

        <div>
          <label class="label">Contraseña</label>
          <input
            type="password"
            class="input"
            placeholder="Contraseña"
            formControlName="password"
          />
          @if(form.get('password')?.hasError('required') &&
          form.get('password')?.touched) {
          <p class="text-error">La contraseña es requerida</p>
          }
        </div>
        <p class="text-gray-600">
          ¿No tienes cuenta?
          <a routerLink="/register" class="text-blue-600 hover:underline">
            Regístrate
          </a>
        </p>

        <button class="btn btn-neutral mt-4 text-white" (click)="ingresar()">
          Iniciar sesión
        </button>
        <button class="btn btn-ghost" routerLink="#">Volver</button>
      </fieldset>
    </form>
    <app-theme-controller
      class="fixed bottom-4 left-1/2 -translate-x-1/2 sm:left-4 sm:translate-x-0 z-50"
    ></app-theme-controller>
  </div>

  }
</div>
